%! Suppress = EscapeHashOutsideCommand
\chapter{Echofunctie-oefening}\label{ch:echo-function-oefening}

In deze bijlage is een volledige oefening beschikbaar, met opgave, testplan en de gegenereerde code.
Om de codefragmenten enigszins kort te houden, is er maar een context, maar wel met twee testgevallen in dezelfde context.

\section{Opgave}\label{sec:echo-function-opgave}

De opgave van deze oefening luidt als volgt:

%! Suppress = TooLargeSection
\begin{quote}
    \markdownInput[renderers = {
        headingOne = {\chapter*{#1}},
        headingTwo = {\section*{#1}},
        headingThree = {\subsection*{#1}},
    }]{sources/echo-function/description.md}
\end{quote}

\section{Testplan}\label{sec:echo-function-testplan}

Een testplan met een context met twee testgevallen:

\inputminted{json}{sources/echo-function/one-testcase.tson}

\section{Python}\label{sec:echo-function-python}

\subsection{Oplossing}\label{subsec:echo-function-python-oplossing}

\inputminted{python}{sources/echo-function/correct.py}

\subsection{Gegenereerde code}\label{subsec:echo-function-python-gegenereerde-code}

De testcode die gegenereerd wordt bij het uitvoeren van bovenstaande testplan.
Deze code is lichtjes aangepast: overtollige witruimte is verwijderd.
Anders is de code identiek aan de door TESTed gegenereerde code.

In Python is geen selector nodig, waardoor de gegenereerde code identiek is voor batchcompilatie en voor contextcompilatie.
In beide gevallen wordt een bestanden gegenereerd:

\begin{enumerate}
    \item \texttt{context\_0\_0.py}
\end{enumerate}

\subsubsection{\texttt{context\_0\_0.py}}

%! Suppress = EscapeUnderscore
\inputminted{python}{sources/echo-function/context_0_0.py}

\subsection{Uitvoeren}\label{subsec:echo-function-python-uitvoeren}

Bij het uitvoeren worden de gegenereerde bestanden uitgevoerd.
In beide gevallen (batchcompilatie en contextcompilatie) wordt de juiste context uitgevoerd:

%! Suppress = EscapeUnderscore
\begin{minted}{console}
> python context_0_0.py
<uitvoer context_0_0>
\end{minted}

\section{Java}\label{sec:echo-function-java}

\subsection{Oplossing}\label{subsec:echo-function-java-oplossing}

\inputminted{java}{sources/echo-function/correct.java}

\subsection{Gegenereerde code}\label{subsec:echo-function-java-gegenereerde-code}

De testcode die gegenereerd wordt bij het uitvoeren van bovenstaande testplan.
Deze code is lichtjes aangepast: overtollige witruimte is verwijderd.
Anders is de code identiek aan de door TESTed gegenereerde code.

Bij batchcompilatie worden alle testgevallen in één keer gecompileerd.
Daarvoor wordt het bestand \texttt{Selector.java} gegenereerd.
Bij contextcompilatie wordt geen \texttt{Selector.java} gegenereerd, maar zijn de bestanden anders identiek.
Volgende bestanden werden gegenereerd (met \texttt{Selector.java} dus enkel in batchcompilatie):

\begin{enumerate}
    \item \texttt{Context00.java}
    \item \texttt{Selector.java}
\end{enumerate}

\subsubsection{\texttt{Context00.java}}

\inputminted{java}{sources/echo-function/Context00.java}

\subsubsection{\texttt{Selector.java}}

\inputminted{java}{sources/echo-function/Selector.java}

\subsection{Uitvoeren}\label{subsec:echo-function-java-uitvoeren}

Bij batchcompilatie wordt \texttt{Selector.java} gecompileerd, wat leidt tot een reeks \texttt{.class}-bestanden.
Vervolgens wordt de selector uitgevoerd:

%! Suppress = EscapeUnderscore
%! Suppress = LineBreak
\begin{minted}{console}
> ./java -cp . Selector Context00
<uitvoer context_0_0>
\end{minted}

Bij contextcompilatie wordt elke context afzonderlijk gecompileerd, wat ook leidt tot een reeks \texttt{.class}-bestanden.
Deze keer wordt de context zelf uitgevoerd:

%! Suppress = EscapeUnderscore
%! Suppress = LineBreak
\begin{minted}{console}
> java -cp . Context00
<uitvoer context_0_0>
\end{minted}

\section{C}\label{sec:echo-function-c}

\subsection{Oplossing}\label{subsec:echo-function-oplossing}

We voeren het testplan uit met deze oplossing:

\inputminted{c}{sources/echo-function/correct.c}

\subsection{Gegenereerde code}\label{subsec:echo-function-c-gegenereerde-code}

De gegenereerde code die gegenereerd wordt bij het uitvoeren van bovenstaande testplan.
Deze code is lichtjes aangepast: overtollige witruimte is verwijderd.
Anders is de code identiek aan de door TESTed gegenereerde code.

Bij batchcompilatie worden alle testgevallen in één keer gecompileerd.
Volgende bestanden werden gegenereerd:

\begin{enumerate}
    \item \texttt{context\_0\_0.c}
    \item \texttt{selector.c}
\end{enumerate}

\subsubsection{\texttt{context\_0\_0.c}}

%! Suppress = EscapeUnderscore
\inputminted{c}{sources/echo-function/context_0_0.c}

\subsubsection{\texttt{selector.c}}

\inputminted{c}{sources/echo-function/selector.c}

\subsection{Uitvoeren}\label{subsec:echo-function-c-uitvoeren}

Bij het compileren wordt \texttt{selector.c} gecompileerd, wat leidt tot een uitvoerbaar bestand \texttt{selector}.
Dit laatste bestand wordt dan uitgevoerd:

%! Suppress = EscapeUnderscore
\begin{minted}{console}
> ./selector context_0_0
<uitvoer context_0_0>
\end{minted}


Bij contextcompilatie wordt elke context afzonderlijk gecompileerd, wat leidt tot een uitvoerbaar bestand: \texttt{context\_0\_0}.
Dit bestand wordt vervolgens uitgevoerd:

%! Suppress = EscapeUnderscore
\begin{minted}{console}
> ./context_0_0
<uitvoer context_0_0>
\end{minted}
